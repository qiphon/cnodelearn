<!-- 引入头部 -->
<% include ../header %>
	
<div class="main-content">
	<div class="breadcrumbs" id="breadcrumbs">
		<script type="text/javascript">
			try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
		</script>

		<ul class="breadcrumb">
			<li>
				<i class="icon-home home-icon"></i>
				<a href="#">首页</a>
			</li>

			<li>
				<a class="active" href="#">话题模块</a>
			</li>
			
		</ul><!-- .breadcrumb -->

		<div class="nav-search" id="nav-search">
			<form class="form-search">
				<span class="input-icon">
					<input type="text" placeholder="Search ..." class="nav-search-input" id="nav-search-input" autocomplete="off" />
					<i class="icon-search nav-search-icon"></i>
				</span>
			</form>
		</div><!-- #nav-search -->
	</div>

	<div class="page-content">
		<div class="page-header">
			<h1>
				
				<small>
					<i class="icon-double-angle-right"></i>
					话题分类
				</small>
			</h1>
		</div><!-- /.page-header -->

		<div class="row">
			<div class="col-xs-12">
				<!-- PAGE CONTENT BEGINS -->

				<div class="row">
					<div class="col-xs-12">
						<div class="table-responsive">
							<table id="sample-table-1" class="table table-striped table-bordered table-hover">
								<thead>
									<tr>
										<th class="center">
											<label>
												<input type="checkbox" class="ace" />
												<span class="lbl"></span>
											</label>
										</th>
										<th>话题栏目</th>
										<th>话题名称</th>
										<th>话题作者</th>
										<th>最后编辑时间</th>
										<th>浏览次数</th>
										<th>回复数量</th>
										
										<th class="hidden-480">操作</th>
									</tr>
								</thead>
								<tbody>
									<% topicsData.forEach(function(topics){%>
									<tr>
										<td class="center">
											<label>
												<input type="checkbox" class="ace" />
												<span class="lbl"></span>
											</label>
										</td>

										<td>
											<a href="#"><%= topics.cid.cateName %></a>
											
										</td>
										<td>
											<a href="#"><%= topics.tName %></a>
										</td>
										
										

										<td>
											<a href="#"><%= topics.user.uname %></a>
										</td>
										
										
										
										<td>
											<a href="#"><%= topics.lastEdit %></a>
										</td>

										<td>
											<a href="#"><%= topics.visitNum %></a>
										</td>
										
										<td>
											<a href="#"><%= topics.rid.length %></a>
										</td>

										
										<td>
											<div class="visible-md visible-lg hidden-sm hidden-xs btn-group">
		
												<a href="/admin/topicsEdit?_id=<%= topics._id%>" class="btn btn-xs btn-danger">
													<span>修改</span>
												
												</a>
												
												<a href="/admin/topicsDel?_id=<%= topics._id%>" class="btn btn-xs btn-danger">
													<span>删除</span>
												
												</a>
												
												
											</div>

										</td>
									</tr>
									<%}) %>
									
									
								</tbody>
								
							</table>


						</div><!-- /.table-responsive -->

					</div><!-- /span -->
				</div><!-- /row -->

				
			</div><!-- /.col -->
		</div><!-- /.row -->

		<!-- 分页 -->
		<div class="row">
			<div class="col-md-6 pull-right">
				<div class="dataTables_paginate paging_bootstrap">
					<div  current_page="1">
								<ul class="pagination">
									<li>
										<% if(page==1){ %>
											<a>首页</a>
										<%}else{ %> 
											<a href="/admin/userShow?page=1">首页</a>
										<%} %>
									</li>
									<% if(page-3>0){ %> 
										<li>
											<a>...</a>
										</li>
									<%} %>
									
									<% for(var i=page-2;i<=parseInt(page)+2;i++){ 
											// 小于1或大于pageMax的隐藏
											if(i<1 || i>pageMax){
												continue;
											};

											// 判断是否是当前页面
											if(parseInt(page)==i){
									%>
												<li class="active">
													<a href="/admin/userShow?page=<%= i %>"><%= i %></a>
												</li>
									<%
											}else{ 

									%>
												<li>
													<a href="/admin/userShow?page=<%= i %>"><%= i %></a>
												</li>
									<%		}
										} 
									%>

									<!-- +3超过了最大值 -->
									<% if(parseInt(page)+3<=pageMax){ %> 
										<li>
											<a>...</a>
										</li>
									<%} %>
										
									<li>
										<% if(page==pageMax){ %>
											<a>尾页</a>
										<%}else{ %> 
											<a href="/admin/userShow?page=<%= pageMax %>">尾页</a>
										<%} %>
									</li>
									
								</ul>
							</div>
				</div>
			</div>
		</div>
	</div><!-- /.page-content -->
</div><!-- /.main-content -->

<!-- 引入底部 -->
<% include ../footer %>